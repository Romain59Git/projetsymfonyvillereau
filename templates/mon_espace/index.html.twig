{% extends 'base.html.twig' %}

{% block title %}Mon Espace - CDJ Villereau{% endblock %}

{% block body %}
<div class="rencontres-section">
    <div class="rencontres-wrapper">
        <div class="rencontres-content">
                <div class="mon-espace-header">
                    <h1 class="mon-espace-title">Matchs à venir</h1>
                    <div class="mon-espace-decorative-line"></div>
                </div>
                
                <div class="rencontres-header-centered">
                    <h2 class="rencontres-main-title">
                        <i class="fas fa-calendar-alt"></i>
                        Prochaines Rencontres
                    </h2>
                </div>
            
            {% if rencontres is empty %}
                <div class="mon-espace-no-rencontres">
                    <div class="mon-espace-empty-card">
                        <i class="fas fa-calendar-times mon-espace-empty-icon"></i>
                        <h4 class="mon-espace-empty-title">Aucune rencontre</h4>
                        <p class="mon-espace-empty-text">Aucune rencontre programmée pour le moment.</p>
                    </div>
                </div>
            {% else %}
                <div class="rencontres-grid">
                    {% for rencontre in rencontres %}
                    <div class="rencontre-card">
                        <div class="rencontre-card-header">
                            {% if rencontre.equipe %}
                                <h3 class="rencontre-equipe">{{ rencontre.equipe }}</h3>
                            {% endif %}
                            <div class="rencontre-vs">
                                <span class="vs-text">VS</span>
                            </div>
                            <h3 class="rencontre-adversaire">{{ rencontre.adversaire }}</h3>
                        </div>
                        
                        <div class="rencontre-card-body">
                            <div class="rencontre-info-grid">
                                <div class="rencontre-info-item">
                                    <i class="fas fa-calendar-alt"></i>
                                    <div class="rencontre-info-content">
                                        <span class="rencontre-info-label">Date</span>
                                        <span class="rencontre-info-value">
                                            {% set jour = rencontre.date|date('N') %}
                                            {% set joursFr = ['Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi', 'Dimanche'] %}
                                            {% set mois = rencontre.date|date('n') %}
                                            {% set moisFr = ['janvier', 'février', 'mars', 'avril', 'mai', 'juin', 'juillet', 'août', 'septembre', 'octobre', 'novembre', 'décembre'] %}
                                            {{ joursFr[jour - 1] }} {{ rencontre.date|date('j') }} {{ moisFr[mois - 1] }}
                                        </span>
                                    </div>
                                </div>
                                
                                <div class="rencontre-info-item">
                                    <i class="fas fa-clock"></i>
                                    <div class="rencontre-info-content">
                                        <span class="rencontre-info-label">Heure</span>
                                        <span class="rencontre-info-value">{{ rencontre.heure }}</span>
                                    </div>
                                </div>
                                
                                <div class="rencontre-info-item">
                                    {% if rencontre.lieu == 'Domicile' %}
                                        <i class="fas fa-home"></i>
                                    {% else %}
                                        <i class="fas fa-plane"></i>
                                    {% endif %}
                                    <div class="rencontre-info-content">
                                        <span class="rencontre-info-label">Lieu</span>
                                        <span class="rencontre-info-value">{{ rencontre.lieu }}</span>
                                    </div>
                                </div>
                            </div>
                            
                            {% if rencontre.joueurs|length > 0 %}
                                <div class="rencontre-joueurs-section">
                                    <h4 class="rencontre-joueurs-title">
                                        <i class="fas fa-users"></i>
                                        Joueurs sélectionnés ({{ rencontre.joueurs|length }})
                                    </h4>
                                    <div class="rencontre-joueurs-list">
                                        {% for joueur in rencontre.joueurs %}
                                            <span class="rencontre-joueur-badge">
                                                {{ joueur.firstName }} {{ joueur.lastName|slice(0, 1) }}.
                                            </span>
                                        {% endfor %}
                                    </div>
                                </div>
                            {% endif %}
                        </div>
                    </div>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %} 