{% extends 'base.html.twig' %}

{% block title %}Mon Espace - CDJ Villereau{% endblock %}

{% block body %}
<div class="rencontres-section">
    <div class="mon-espace-container">
        <div class="mon-espace-row">
            <div class="mon-espace-col">
                <div class="mon-espace-header">
                    <h1 class="mon-espace-title">Matchs à venir</h1>
                    <div class="mon-espace-decorative-line"></div>
                </div>
                
                <div class="mon-espace-rencontres-header">
                    <div class="mon-espace-header-card">
                        <h2 class="mon-espace-header-title">
                            <i class="fas fa-calendar-alt mon-espace-calendar-icon"></i>Prochaines Rencontres
                        </h2>
                        <div class="mon-espace-decorative-dots">
                            <span class="decorative-dot blue"></span>
                            <span class="decorative-dot purple"></span>
                            <span class="decorative-dot violet"></span>
                        </div>
                    </div>
                </div>
            
            {% if rencontres is empty %}
                <div class="mon-espace-no-rencontres">
                    <div class="mon-espace-empty-card">
                        <i class="fas fa-calendar-times mon-espace-empty-icon"></i>
                        <h4 class="mon-espace-empty-title">Aucune rencontre</h4>
                        <p class="mon-espace-empty-text">Aucune rencontre programmée pour le moment.</p>
                    </div>
                </div>
            {% else %}
                <div class="rencontres-grid">
                    <div class="decorative-element top-left"></div>
                    <div class="decorative-element bottom-right"></div>
                    {% for rencontre in rencontres %}
                    <div class="rencontre-card-container">
                        <div class="mon-espace-rencontre-card">
                            <div class="mon-espace-card-body">
                                <div class="mon-espace-rencontre-content">
                                    {% if rencontre.equipe %}
                                        <h4 class="mon-espace-equipe">{{ rencontre.equipe }}</h4>
                                    {% endif %}
                                    <h6 class="mon-espace-adversaire">
                                        <i class="fas fa-shield-alt mon-espace-shield-icon"></i>{{ rencontre.adversaire }}
                                    </h6>
                                    <h6 class="mon-espace-date">
                                        {% set jour = rencontre.date|date('N') %}
                                        {% set joursFr = ['Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi', 'Dimanche'] %}
                                        {% set mois = rencontre.date|date('n') %}
                                        {% set moisFr = ['janvier', 'février', 'mars', 'avril', 'mai', 'juin', 'juillet', 'août', 'septembre', 'octobre', 'novembre', 'décembre'] %}
                                        {{ joursFr[jour - 1] }} {{ rencontre.date|date('j') }} {{ moisFr[mois - 1] }}
                                    </h6>
                                    <p class="mon-espace-heure">{{ rencontre.heure }}</p>
                                    <p class="mon-espace-lieu">
                                        {% if rencontre.lieu == 'Domicile' %}
                                            <i class="fas fa-home mon-espace-lieu-icon"></i>{{ rencontre.lieu }}
                                        {% else %}
                                            <i class="fas fa-plane mon-espace-lieu-icon"></i>{{ rencontre.lieu }}
                                        {% endif %}
                                    </p>
                                </div>
                                
                                {% if rencontre.joueurs|length > 0 %}
                                    <div class="rencontre-joueurs">
                                        <small class="mon-espace-joueurs-count">{{ rencontre.joueurs|length }} joueur(s)</small>
                                        <div class="mon-espace-joueurs-list">
                                            {% for joueur in rencontre.joueurs %}
                                                <span class="mon-espace-joueur-badge">{{ joueur.firstName }} {{ joueur.lastName|slice(0, 1) }}.</span>
                                            {% endfor %}
                                        </div>
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %} 